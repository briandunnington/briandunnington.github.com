<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Windows Phone Color Emoji Override</title>

    <meta name="title" content="Windows Phone Color Emoji Override"/>
    <meta name="description" content="What to do when your font glyphs start showing up in multi-color when you dont want them to"/>
    <meta name="author" content="Brian Dunnington" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="Brian Dunnington" />
    <meta property="og:url" content="https://briandunnington.github.io/textoptions-displaycoloremoji"/>
    <meta property="og:title" content="Windows Phone Color Emoji Override"/>
    <meta property="og:description" content="What to do when your font glyphs start showing up in multi-color when you dont want them to"/>
    <meta property="og:image" content="https://briandunnington.github.io/img/bd_logo.png"/>
    <meta property="article:published_time" content="2013-10-15T12:00:00"/>
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:site" content="@briandunnington"/>
    <meta property="twitter:creator" content="@briandunnington"/>
    <meta property="twitter:url" content="https://briandunnington.github.io/textoptions-displaycoloremoji"/>
    <meta property="twitter:title" content="Windows Phone Color Emoji Override"/>
    <meta property="twitter:description" content="What to do when your font glyphs start showing up in multi-color when you dont want them to"/>
    <meta property="twitter:image" content="https://briandunnington.github.io/img/bd_logo.png"/>

    <link rel="canonical" href="https://briandunnington.github.io/textoptions-displaycoloremoji" />
    <link rel="stylesheet" href="/css/style.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
    <link type="application/atom+xml" rel="alternate" href="https://briandunnington.github.io/rss.xml" title="Brian Dunnington" />

    <script src="/js/prism.js"></script>
</head>

<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="/">
                <h2 class="nav-title">brian dunnington</h2>
            </a>
            <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
                <li><a href="http://twitter.com/briandunnington"><img src="img/twitter.png" width="48" style="position: relative;top:30px;"/></a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="post">
            <div class="post-info">
                <time datetime="2013-10-15 12:00:00 +0000" class="catalogue-time">October 15, 2013</time>
            </div>

            <h1 class="post-title">Windows Phone Color Emoji Override</h1>
            <div class="post-line"></div>



            <div class="language-csharp"><div class="hero-unit">
<h1>Windows Phone Color Emoji Override</h1>
<p>What to do when your font glyphs start showing up in multi-color when you dont want them to</p>
</div>

<p>I recently released a new game for Windows Phone called <a href="http://windowsphone.com/s?appId=281499cb-f9fe-427f-8906-7fa3a02673ab">Quandry</a>. As part of the design, I was leveraging the font glyphs in <a href="http://www.adamdawes.com/windows8/win8_segoeuisymbol.html">Segoe UI Symbol</a> instead of using images in a few places. The result looked like this:</p>

<p><img src="/images/wp_ss_20131015_0002.png" width="570"></p>

<p>I was pretty happy with it and didnt give it much more thought after I implemented it. Then Microsoft announced their <a href="https://dev.windowsphone.com/en-us/featured/update3">Windows Phone Preview for Developers</a> program which allows registered developers to install OS updates without waiting for carrier approval and general availability. Cool - I clicked a few buttons and within a few minutes, I was running "Update 3" (formerly knowns as GDR3). I fired up Quandry and noticed something weird:</p>

<p><img src="/images/wp_ss_20131015_0001.png" width="570"></p>

<p>Some (but not all) of my glyphs had been replaced with colored variants. What the ?</p>

<p>I remembered reading about <a href="http://opentype.info/blog/2013/07/03/color-emoji-in-windows-8-1-the-future-of-color-fonts/">Microsoft's new colored-font proposal</a> awhile back and how it added some new color information to the font tables to enable 'layers' that could be colorized:</p>

<p><img src="https://typography.guru/uploads/monthly_2014_12/winemoji.thumb.png.dff687e77d3a6def714ec60e3a0932e5.png" width="570"/></p>

<p>Neat stuff, but it was breaking my app! I tried a few things to fix the issue, but didnt have much luck. Then I stumbled across a property I had not heard of before: <a href="http://msdn.microsoft.com/en-US/library/windowsphone/develop/system.windows.media.textoptions.displaycoloremoji%28v=vs.105%29.aspx">TextOptions.DisplayColorEmoji</a>. Apparently it is set to <code>true</code> by default, so I set it to <code>false</code> on my affected <code>TextBlock</code> controls and everything was back to normal.</p>

<p>Maybe everybody already knows about this little detail, but I didnt and figured I would share it in case anybody else ran into the same issue.</p>

<p>Shameless plug: Download <a href="http://windowsphone.com/s?appId=281499cb-f9fe-427f-8906-7fa3a02673ab">Quandry</a> from the marketplace and give it a try. If you do, challenge me at <a href="http://twitter.com/briandunnington">@briandunnington</a> and we will have a game.</p>
</div>
        </div>

        <div class="pagination">

                <a href="/migrate-scheduled-jobs" class="left arrow">&#8592; Migrating Scheduled Task Jobs</a>
                            <a href="/winrt-xaml-image-source-bug" class="right arrow">WinRT Xaml Image Source Bug &#8594;</a>
            <a href="#" class="top">Top</a>
        </div>
    </main>

    <footer>
        <span>
            &copy; 2012-2022 brian dunnington
        </span>
    </footer>

</body>
</html>
