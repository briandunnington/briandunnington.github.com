<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>brian dunnington - Windows 8 Store Apps Color Overrides</title>
	<meta name="description" content="code and computer related tidbits">
	<meta name="author" content="brian dunnington">

	<meta name="viewport" content="width=device-width">

	<link rel="stylesheet" href="css/bootstrap.css">
	<style>
    body {
      padding-top: 60px;
      padding-bottom: 40px;
    }
    footer {
      text-align: right;
      margin-top: 40px;
    }
    h1 {
      margin-bottom: 0.6em;
    }
  </style>
	<link rel="stylesheet" href="css/bootstrap-responsive.css">
	<link rel="stylesheet" href="css/style.css">

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script>window.html5 || document.write('<script src="js/libs/html5.js"><\/script>')</script>
	<![endif]-->
</head>

<body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">brian dunnington</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li id="linkHome"><a href="/">Home</a></li>
              <li id="linkAbout"><a href="/about.html">About</a></li>
              <li id="linkContact"><a href="/contact.html">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Example row of columns
      <div class="row">
        <div class="span4">
          <h2>Heading</h2>
           <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
        <div class="span4">
          <h2>Heading</h2>
           <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
       </div>
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div>
      </div>
      -->

	  <div class="row">
      <div class="span1">
        &nbsp;
      </div>
		  <div class="span6">
			  <!-- Main hero unit for a primary marketing message or call to action -->

<div class="hero-unit">
<h1>Windows 8 Store Apps Color Overrides</h1>
<p>Tired of that purple color in your ComboBoxes, ListBoxes, and GridViews? Here is how to change it without retemplating all of the controls.</p>
<!--<p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>-->
</div>

<p>So your Windows 8 Store (n√©e Metro) is coming along and you are trying to polish up the look and feel. However, that annoying purple highlight color keeps popping up in unexpected places, like the background for selected items in ComboBoxes and ListBoxes, or in the border for selected items in a GridView. </p>

<p><img src="http://1wpf.files.wordpress.com/2012/06/example.png" alt="Purple" /></p>

<p>Purple might work for some apps, but you are a perfectionist and you gotta have the exact shade of green that matches your logo. Some of the controls expose properties that let you set the color in your xaml and you could set up a <code>&lt;Style&gt;</code> rule to apply them, but then you have to always remember to apply the style and some of the controls don't even expose the necessary properties to override the color, so what to do?</p>

<p>Maybe everybody out there other than me already knows this, but the list of pre-defined control colors can be found at:
<code>%PROGRAMFILES(x86)%\Windows Kits\8.0\Include\WinRT\Xaml\Design\generic.xaml</code></p>

<p>In there, there are a few different sections for the Dark theme, Light theme, and High-Contrast theme. Looking through any of them, you can see a section called:</p>

<pre><code>&lt;!--
******************************************************************
DEFAULT COMMON CONTROL COLORS
******************************************************************
--&gt;;
</code></pre>

<p>That section contains a long list of all of the colors used by the built-in controls. Most of them are various shades and opacities of black or white and should be good for most apps. But I went through and pulled out all of the items that defined a purplish color so you can easily see which items to override:</p>

<pre><code>&lt;!-- Purple system brushes --&gt;
&lt;SolidColorBrush x:Key="ComboBoxItemSelectedBackgroundThemeBrush" Color="#FF4617B4" /&gt;
&lt;SolidColorBrush x:Key="ComboBoxItemSelectedPointerOverBackgroundThemeBrush" Color="#FF5F37BE" /&gt;
&lt;SolidColorBrush x:Key="ComboBoxSelectedBackgroundThemeBrush" Color="#FF4617B4" /&gt;
&lt;SolidColorBrush x:Key="ComboBoxSelectedPointerOverBackgroundThemeBrush" Color="#FF5F37BE" /&gt;
&lt;SolidColorBrush x:Key="HyperlinkForegroundThemeBrush" Color="#FF9C72FF" /&gt;
&lt;SolidColorBrush x:Key="HyperlinkPointerOverForegroundThemeBrush" Color="#CC9C72FF" /&gt;
&lt;SolidColorBrush x:Key="HyperlinkPressedForegroundThemeBrush" Color="#999C72FF" /&gt;
&lt;SolidColorBrush x:Key="ListBoxItemSelectedBackgroundThemeBrush" Color="#FF4617B4" /&gt;
&lt;SolidColorBrush x:Key="ListBoxItemSelectedPointerOverBackgroundThemeBrush" Color="#FF5F37BE" /&gt;
&lt;SolidColorBrush x:Key="ListViewItemDragBackgroundThemeBrush" Color="#994617B4" /&gt;
&lt;SolidColorBrush x:Key="ListViewItemSelectedBackgroundThemeBrush" Color="#FF4617B4" /&gt;
&lt;SolidColorBrush x:Key="ListViewItemSelectedPointerOverBackgroundThemeBrush" Color="#FF5F37BE" /&gt;
&lt;SolidColorBrush x:Key="ListViewItemSelectedPointerOverBorderThemeBrush" Color="#FF5F37BE" /&gt;
&lt;SolidColorBrush x:Key="ProgressBarForegroundThemeBrush" Color="#FF5B2EC5" /&gt;
&lt;SolidColorBrush x:Key="ProgressBarIndeterminateForegroundThemeBrush" Color="#FF8A57FF" /&gt;
&lt;SolidColorBrush x:Key="SliderTrackDecreaseBackgroundThemeBrush" Color="#FF5B2EC5" /&gt;
&lt;SolidColorBrush x:Key="SliderTrackDecreasePointerOverBackgroundThemeBrush" Color="#FF724BCD" /&gt;
&lt;SolidColorBrush x:Key="SliderTrackDecreasePressedBackgroundThemeBrush" Color="#FF8152EF" /&gt;
&lt;SolidColorBrush x:Key="ToggleSwitchCurtainBackgroundThemeBrush" Color="#FF5729C1" /&gt;
&lt;SolidColorBrush x:Key="ToggleSwitchCurtainPointerOverBackgroundThemeBrush" Color="#FF6E46CA" /&gt;
&lt;SolidColorBrush x:Key="ToggleSwitchCurtainPressedBackgroundThemeBrush" Color="#FF7E4FEC" /&gt;
</code></pre>

<p>In order to make sure these get set before any control templates that use them, I simply added them to their own ResourceDictionary xaml file and included it directly above the <code>Common\StandardStyles.xaml</code> in <code>App.xaml.cs</code>:</p>

<pre><code>&lt;ResourceDictionary.MergedDictionaries&gt;
    &lt;ResourceDictionary Source="Common/ColorOverrides.xaml"/&gt;

    &lt;!-- 
        Styles that define common aspects of the platform look and feel
        Required by Visual Studio project and item templates
        --&gt;
    &lt;ResourceDictionary Source="Common/StandardStyles.xaml"/&gt;
&lt;/ResourceDictionary.MergedDictionaries&gt;
</code></pre>

<p>Hope that helps somebody check of that one last to-do item so they can submit their app, sit back, and start raking in the millions =)</p>

		  </div>
      <div class="span1">
        &nbsp;
      </div>
      <div class="span4">
          <h3><a href="http://twitter.com/briandunnington"><img src="img/twitter.png" width="64" style="vertical-align:middle;" /></a> <a href="http://twitter.com/briandunnington">@briandunnington</a></h3>
          <hr />

              <h6 class="muted">2013.01.09</h6>
              <h2>WinRT JSON Parser</h2>
              <p>A nicer way to deal with JSON in WinRT (Windows Store) apps</p>
              <p><a class="btn" href="/json-parser.html">View details &raquo;</a></p>
              <hr/>
              <h6 class="muted">2012.12.19</h6>
              <h2>Windows 8 Store Apps Color Overrides</h2>
              <p>Tired of that purple color in your ComboBoxes, ListBoxes, and GridViews? Here is how to change it without retemplating all of the controls.</p>
              <p><a class="btn" href="/windows8-color-overrides.html">View details &raquo;</a></p>
              <hr/>
              <h6 class="muted">2012.12.18</h6>
              <h2>Xaml VisualStateManager weirdness</h2>
              <p>Sometimes GoToState() just wont work or works intermittently. Here is a note to myself with the answer.</p>
              <p><a class="btn" href="/xaml-visualstatemanager-note.html">View details &raquo;</a></p>
              <hr/>
              <h6 class="muted">2012.12.12</h6>
              <h2>Reentrant async locks in .NET</h2>
              <p>The new async/await keywords in .NET make async programming a snap, but there are some things to watch out for when synchronizing multiple threads.</p>
              <p><a class="btn" href="/reentrant-async-locks.html">View details &raquo;</a></p>
              <hr/>
              <h6 class="muted">2012.12.10</h6>
              <h2>GridView in a ScrollViewer</h2>
              <p>How to use a GridView inside of a ScrollViewer in a Windows Store app while still retaining mouse-wheel scrolling and swipe-to-select behavior.</p>
              <p><a class="btn" href="/gridview-in-a-scrollviewer.html">View details &raquo;</a></p>
              <hr/>

          <h4><a href="/index.html">More Posts ></a></h4>
      </div>
	  </div>

      <footer>
        <p>&copy; brian dunnington 2013</p>
      </footer>

    </div> <!-- /container -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

<script src="js/libs/bootstrap/bootstrap.js"></script>

<script src="js/script.js"></script>
</body>
</html>